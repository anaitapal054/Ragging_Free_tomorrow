
<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="icon" href="images/stop_ragging (1).png">
    <!-- Site Properties -->
    <title>complaint</title>
    <link rel="stylesheet" type="text/css" href="/semantic/dist/semantic.css">

    <style type="text/css">

        .hidden.menu {
            display: none;
        }

        .masthead.segment {
            min-height: 700px;
            padding: 1em 0em;
        }
        .masthead .logo.item img {
            margin-right: 1em;
        }
        .masthead .ui.menu .ui.button {
            margin-left: 0.5em;
        }
        .masthead h1.ui.header {
            margin-top: 3em;
            margin-bottom: 0em;
            font-size: 4em;
            font-weight: normal;
        }
        .masthead h2 {
            font-size: 1.7em;
            font-weight: normal;
        }

        .ui.vertical.str {
            padding: 8em 0em;
        }
        .ui.vertical.str h3 {
            font-size: 2em;
        }
        .ui.vertical.str .button + h3,
        .ui.vertical.str p + h3 {
            margin-top: 3em;
        }
        .ui.vertical.str .floated.image {
            clear: both;
        }
        .ui.vertical.str p {
            font-size: 1.33em;
        }
        .ui.vertical.str .horizontal.divider {
            margin: 3em 0em;
        }

        .quote.str.segment {
            padding: 0em;
        }
        .quote.str.segment .grid .column {
            padding-top: 5em;
            padding-bottom: 5em;
        }

        .footer.segment {
            padding: 5em 0em;
        }

        .secondary.ptg.menu .toc.item {
            display: none;
        }

        @media only screen and (max-width: 700px) {
            .ui.fixed.menu {
                display: none !important;
            }
            .secondary.ptg.menu .item,
            .secondary.ptg.menu .menu {
                display: none;
            }
            .secondary.ptg.menu .toc.item {
                display: block;
            }
            .masthead.segment {
                min-height: 350px;
            }
            .masthead h1.ui.header {
                font-size: 2em;
                margin-top: 1.5em;
            }
            .masthead h2 {
                margin-top: 0.5em;
                font-size: 1.5em;
            }
        }


    </style>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/semantic/dist/semantic.js"></script>
    <script src="sweetalert2.all.js"></script>
    <script>
        $(document)
            .ready(function() {
                onl();
                // fix menu when passed
                $('.masthead')
                    .visibility({
                        once: false,
                        onBottomPassed: function () {
                            $('.fixed.menu').transition('fade in');
                        },
                        onBottomPassedReverse: function () {
                            $('.fixed.menu').transition('fade out');
                        }
                    })
                ;

                // create sidebar and attach to menu open
                $('.ui.sidebar')
                    .sidebar('attach events', '.toc.item')
                ;
            });
    </script>
</head>
<body>

<!-- Following Menu -->
<div class="ui large top fixed hidden menu">
    <div class="ui container">
        <div class="item">
            <div class="image">
                <img src="images/stop_ragging (2).png">
            </div>
        </div>
        <a class="item" href="/information">Information</a>
        <a class="item" href="/faq">FAQ's</a>
        <a class="item" href="/useful_contacts">Useful Contacts</a>
        <a class="item" href="/feedback">Feedback</a>
        <div class="right menu">
            <div class="item">
                <a class="ui red button login">Log In / Sign Up</a>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar Menu -->
<div class="ui vertical sidebar menu">
    <div class="item">
        <div class="image">
            <img src="images/stop_ragging.png">
        </div>
    </div>
    <a class="item" href="/information">Information</a>
    <a class="item" href="/faq">FAQ's</a>
    <a class="item" href="/useful_contacts">Useful Contacts</a>
    <a class="item" href="/feedback">Feedback</a>
</div>
<div class="pusher">
    <div class="ui vertical masthead segment basic">
        <div class="ui container">
            <div class="ui large secondary ptg menu">
                <a class="toc item">
                    <i class="sidebar icon"></i>
                </a>
                <a class="item" href=".">
                    <div class="image">
                        <img src="images/stop_ragging (1).png">
                    </div>
                </a>
                <a class="item" href="/information">Information</a>
                <a class="item" href="/faq">FAQ's</a>
                <a class="item" href="/useful_contacts">Useful Contacts</a>
                <a class="item" href="/feedback">Feedback</a>
                <a class="right floated item">
                    <div class="image">
                        <img src="images/logo (1).png">
                    </div>
                </a>
            </div>
            <form class="ui form" id="forma" method="post" encType="multipart/form-data">
                <div class="field">
                    <div class="two fields">
                        <div class="field">
                            <label>Complainant Name</label>
                            <input type="text" required name="complainant" placeholder="Complainant Name">
                        </div>
                        <div class="field">
                            <label>Victim Name</label>
                            <input type="text" required="required" name="victim" placeholder="Victim Name">
                        </div>
                    </div>
                    <div class="two fields">
                        <div class="field">
                            <label>Email</label>
                            <input type="email" required name="email" placeholder="Email">
                        </div>
                        <div class="field">
                            <label>Mobile No.</label>
                            <input type="Number" required name="mobile" placeholder="Mobile No.">
                        </div>
                    </div>
                    <div class="two fields">
                        <div class="field">
                            <label>Address</label>
                            <input type="text" name="Address" placeholder="Address">
                        </div>
                        <div class="field">
                            <label>Pincode</label>
                            <input type="Number"  name="Pincode" placeholder="Pincode">
                        </div>
                    </div>
                    <div class="field">
                        <label>Ragging Details (In order to lodge your complaint, enter complete details including your name, the place of ragging, the time of ragging, the people involved in the incident.
                            Give us as much details as possible.)*
                        </label>
                        <textarea required="required" name="Details"></textarea>
                    </div>
                </div>
                <div class="three fields">
                    <div class="fluid field">
                        <label>Location</label>
                        <div class="ui red labeled fluid icon button" onclick="getLocationConstant()">
                            <i class="map marker alternate icon"></i>
                            Get Location
                        </div>
                    </div>
                    <div class="fluid field">
                        <label>Latitude</label>
                        <input type="text" id="Latitude" readonly name="Latitude" value="">
                    </div>
                    <div class="fluid field">
                        <label>Longitude</label>
                        <input type="text" id="Longitude" readonly name="Longitude" value="">
                    </div>
                </div>
                <div class="field">
                    <label>Attachments</label>
                </div>
                <div class="two fields">
                <div class="field">
                    <div class="ui action input">
                        <input readonly type="text" id="_attachmentName">
                        <label for="attachmentName" class="ui red icon button btn-file">
                            <i class="paperclip icon"></i>
                            <input type="file" id="attachmentName" name="attachmentName" style="display: none">
                        </label>
                    </div>
                </div>
                <div class="field">
                    <div class="ui action input">
                        <input readonly type="text" id="_attachmentName1">
                        <label for="attachmentName1" class="ui red icon button btn-file1">
                            <i class="paperclip icon"></i>
                            <input type="file" id="attachmentName1" name="attachmentName1" style="display: none">
                        </label>
                    </div>
                </div>
                </div>
                <div class="four fields">
                    <div class="field"></div>
                    <div class="field">
                        <input type="submit" value="Submit" class="ui fluid red large submit button">
                    </div>
                    <div class="field">
                        <div class="ui fluid black large reset button" onclick="form_clear()">Reset</div>
                    </div>
                    <div class="field"></div>
                </div>
            </form>
            <br/>
            <br/>
            <br/>

        </div>
    </div>
</div>


</body>
<script>
    function onl()
    {
        $('#forma').form();
        <%if (registered) { %>
        swal({
            type: "success",
            title: "Complaint Registered",
            html: `Complaint id: <%=id%><br/>Victim Name: <%=victim%>
            <br/>Email: <%=email%><br/>Mobile: <%=mobile%>`,
            confirmButtonColor: '#d33'
        });
        <% } %>
    }
    function form_clear() {
        $('#forma').form('clear');
    }
    
    var fileExtentionRange = '.zip .rar .tar .pdf .doc .docx .xls .xlsx .ppt .pptx';
    var MAX_SIZE = 30; // MB

    $(document).on('change', '.btn-file :file', function() {
        var input = $(this);

        if (navigator.appVersion.indexOf("MSIE") != -1) { // IE
            var label = input.val();

            input.trigger('fileselect', [ 1, label, 0 ]);
        } else {
            var label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
            var numFiles = input.get(0).files ? input.get(0).files.length : 1;
            var size = input.get(0).files[0].size;

            input.trigger('fileselect', [ numFiles, label, size ]);
        }
    });

    $(document).on('change', '.btn-file1 :file', function() {
        var input = $(this);

        if (navigator.appVersion.indexOf("MSIE") != -1) { // IE
            var label = input.val();

            input.trigger('fileselect', [ 1, label, 0 ]);
        } else {
            var label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
            var numFiles = input.get(0).files ? input.get(0).files.length : 1;
            var size = input.get(0).files[0].size;

            input.trigger('fileselect', [ numFiles, label, size ]);
        }
    });

    $('.btn-file :file').on('fileselect', function(event, numFiles, label, size) {
        $('#attachmentName').attr('name', 'attachmentName'); // allow upload.

        var postfix = label.substr(label.lastIndexOf('.'));
        if (fileExtentionRange.indexOf(postfix.toLowerCase()) > -1) {
            if (size > 1024 * 1024 * MAX_SIZE ) {
                alert('max size：<strong>' + MAX_SIZE + '</strong> MB.');

                $('#attachmentName').removeAttr('name'); // cancel upload file.
            } else {
                $('#_attachmentName').val(label);
            }
        } else {
            alert('file type：<br/> <strong>' + fileExtentionRange + '</strong>');

            $('#attachmentName').removeAttr('name'); // cancel upload file.
        }
    });

    $('.btn-file1 :file').on('fileselect', function(event, numFiles, label, size) {
        $('#attachmentName1').attr('name', 'attachmentName1'); // allow upload.

        var postfix = label.substr(label.lastIndexOf('.'));
        if (fileExtentionRange.indexOf(postfix.toLowerCase()) > -1) {
            if (size > 1024 * 1024 * MAX_SIZE ) {
                alert('max size：<strong>' + MAX_SIZE + '</strong> MB.');

                $('#attachmentName1').removeAttr('name'); // cancel upload file.
            } else {
                $('#_attachmentName1').val(label);
            }
        } else {
            alert('file type：<br/> <strong>' + fileExtentionRange + '</strong>');

            $('#attachmentName1').removeAttr('name'); // cancel upload file.
        }
    });
    function getLocationConstant()
    {
        if(navigator.geolocation)
        {
            navigator.geolocation.getCurrentPosition(onGeoSuccess,onGeoError);
        } else {
            alert("Your browser or device doesn't support Geolocation");
        }
    }

    // If we have a successful location update
    function onGeoSuccess(event)
    {
        document.getElementById("Latitude").value =  event.coords.latitude;
        document.getElementById("Longitude").value = event.coords.longitude;

    }

    // If something has gone wrong with the geolocation request
    function onGeoError(event)
    {
        alert("Error code " + event.code + ". " + event.message);
    }
</script>

</html>